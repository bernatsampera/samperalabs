---
import {SITE} from 'samperai:config';
import {getHomePermalink} from '~/utils/permalinks';

interface Link {
  text?: string;
  href?: string;
}

export interface Props {
  links?: Array<Link>;
  socialLinks?: Array<Link>;
}

const {socialLinks = [], links = []} = Astro.props;
---

<footer class="py-20 border-t border-gray-100 bg-background">
  <div class="container mx-auto px-6">
    <div class="mb-16 flex flex-col md:flex-row justify-between items-center">
      <a class="text-xl font-bold tracking-tighter mb-8 md:mb-0" href={getHomePermalink()}>
        {SITE?.name}
      </a>

      {
        links.length > 0 && (
          <div class="flex flex-wrap gap-6 mb-8 md:mb-0 justify-center md:justify-start">
            {links.map(({text, href}) => (
              <a class="text-gray-500 hover:text-primary transition-colors duration-300" href={href}>
                {text}
              </a>
            ))}
          </div>
        )
      }

      {
        socialLinks.length > 0 && (
          <div class="flex gap-6">
            {socialLinks.map(({href, text}) => (
              <a
                class="text-gray-500 hover:text-primary transition-colors duration-300"
                href={href}
                target="_blank"
                rel="noopener noreferrer"
                aria-label={text}
              >
                {text}
              </a>
            ))}
          </div>
        )
      }
    </div>

    <div class="text-center text-sm text-gray-400">
      <p>Â© {new Date().getFullYear()} Bernat Sampera. All rights reserved.</p>
    </div>

    <div class="mt-12 text-center">
      <a href="#" class="inline-flex items-center text-sm text-gray-500 hover:text-primary">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
          <path
            fill-rule="evenodd"
            d="M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z"
            clip-rule="evenodd"></path>
        </svg>
        Back to Top
      </a>
    </div>
  </div>
</footer>

<script>
  // Smooth scroll to top
  document.addEventListener('DOMContentLoaded', () => {
    const backToTopButton = document.querySelector('footer a[href="#"]');

    if (backToTopButton) {
      backToTopButton.addEventListener('click', (e) => {
        e.preventDefault();
        window.scrollTo({
          top: 0,
          behavior: 'smooth',
        });
      });
    }
  });
</script>
