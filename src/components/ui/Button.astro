---
export interface Props {
  variant?: 'primary' | 'secondary' | 'accent' | 'ghost' | 'link' | 'outline';
  size?: 'xs' | 'sm' | 'md' | 'lg';
  href?: string;
  target?: string;
  type?: 'button' | 'submit' | 'reset';
  disabled?: boolean;
  class?: string;
  text?: string;
}

const {
  variant = 'primary',
  size = 'md',
  href,
  target,
  type = 'button',
  disabled = false,
  class: className = '',
  text,
  ...rest
} = Astro.props;

// Build DaisyUI classes
const classes = [
  'btn',
  'border-accent',
  'font-medium',
  'rounded-none',
  'px-8 py-3',
  variant === 'primary' && 'btn-primary',
  variant === 'secondary' && 'btn-secondary',
  variant === 'accent' && 'btn-accent',
  variant === 'ghost' && 'btn-ghost',
  variant === 'link' && 'btn-link',
  variant === 'outline' && 'btn-outline',
  size === 'xs' && 'btn-xs',
  size === 'sm' && 'btn-sm',
  size === 'lg' && 'btn-lg',
  className,
]
  .filter(Boolean)
  .join(' ');

const isLink = !!href;
const linkProps = target ? {target, rel: 'noopener noreferrer'} : {};
---

{
  isLink ? (
    <a href={href} class={classes} {...linkProps} {...rest}>
      {text}
    </a>
  ) : (
    <button type={type} class={classes} disabled={disabled} {...rest}>
      {text}
    </button>
  )
}
